<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Coordina Events Dashboard</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <body class="bg-light">
    <div class="container mt-5">
      <h1 class="text-center mb-4">Coordina Events</h1>

      <!-- Bootstrap Grid Layout -->
      <div class="row" id="event-container">
        <div class="col-12 text-center text-muted">
          Loading events...
        </div>
      </div>
    </div>

    <footer class="text-center mt-5 text-muted">
      Â© 2025 Coordina Team
    </footer>

    <script>
      // Fetch events from backend API
      fetch("http://localhost:5500/api/events")
        .then((res) => res.json())
        .then((data) => {
          const container = document.getElementById("event-container");
          container.innerHTML = "";
          data.forEach((event) => {
            container.innerHTML += `
              <div class="col-md-4 mb-4">
                <div class="card shadow-sm">
                  <div class="card-body">
                    <h5 class="card-title text-primary">${event.name}</h5>
                    <p class="card-text">
                      <strong>Status:</strong> ${event.status} <br/>
                      <strong>Link:</strong> ${event.eventLink}
                    </p>
                  </div>
                </div>
              </div>`;
          });
        })
        .catch((err) => {
          document.getElementById("event-container").innerHTML =
            "<div class='col-12 text-danger text-center'>Failed to load events.</div>";
          console.error(err);
        });
    </script>
  </body>
</html>
